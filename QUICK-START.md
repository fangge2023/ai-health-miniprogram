# 🚀 快速启动指南

本指南将帮助您快速设置和运行AI健康减肥小程序。

## 📋 前置要求

在开始之前，请确保您已安装以下软件：

- ✅ **Node.js 16.0+** - [下载地址](https://nodejs.org/)
- ✅ **微信开发者工具** - [下载地址](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)
- ✅ **微信小程序账号** - [注册地址](https://mp.weixin.qq.com/)

## 🛠 安装步骤

### 1. 获取项目代码
```bash
# 克隆或下载项目到本地
cd ai-health-miniprogram
```

### 2. 安装依赖
```bash
# 运行依赖安装脚本
node deploy-all.js
```

这个脚本会自动为所有云函数安装依赖。

### 3. 配置微信开发者工具

1. 打开微信开发者工具
2. 选择"导入项目"
3. 选择项目目录：`ai-health-miniprogram`
4. 输入您的小程序AppID（可以先使用测试号）

### 4. 配置云开发环境

1. 在微信开发者工具中点击"云开发"
2. 开通云开发服务（如果还没有）
3. 创建云环境
4. 记录云环境ID

### 5. 修改配置文件

编辑 `app.js` 文件，修改云环境ID：

```javascript
wx.cloud.init({
  env: 'your-cloud-env-id', // 替换为您的云环境ID
  traceUser: true,
});
```

编辑 `project.config.json` 文件，修改AppID：

```json
{
  "appid": "your-app-id" // 替换为您的小程序AppID
}
```

### 6. 上传云函数

在微信开发者工具中：

1. 右键点击 `cloudfunctions` 文件夹
2. 选择"上传并部署：云端安装依赖"
3. 等待所有云函数部署完成

### 7. 配置数据库

1. 在云开发控制台中点击"数据库"
2. 创建以下集合：
   - `users` - 用户信息
   - `health_metrics` - 健康数据
   - `diet_records` - 饮食记录
   - `exercise_records` - 运动记录
   - `food_database` - 食物数据库
   - `ai_conversations` - AI对话记录

3. 设置数据库权限（可先设置为"所有用户可读写"用于测试）

### 8. 运行项目

1. 在微信开发者工具中点击"编译"
2. 如果一切正常，您应该能看到小程序界面

## 🎯 功能测试

### 基础功能检查
- [ ] 小程序正常启动
- [ ] 页面间导航正常
- [ ] 云函数调用成功
- [ ] 数据库读写正常

### 核心功能测试
1. **健康仪表板**
   - 查看是否正常显示欢迎信息
   - 测试快捷记录功能

2. **AI咨询**
   - 发送测试消息
   - 查看AI回复
   - 测试快速问题功能

3. **饮食管理**
   - 搜索食物功能
   - 添加饮食记录

4. **运动记录**
   - 选择运动类型
   - 记录运动数据

## 🔧 常见问题

### Q: 云函数调用失败
**A:** 检查以下项目：
- 云环境ID是否正确
- 云函数是否部署成功
- 网络连接是否正常

### Q: 数据库操作失败
**A:** 检查以下项目：
- 数据库集合是否创建
- 权限设置是否正确
- 数据格式是否符合预期

### Q: 页面显示异常
**A:** 检查以下项目：
- 基础库版本是否符合要求
- 页面路径是否正确
- 组件引用是否正确

### Q: AI功能无响应
**A:** 目前AI功能使用模拟数据，如需真实AI服务：
- 申请AI服务API
- 在云函数中配置API密钥
- 修改AI调用逻辑

## 📝 开发建议

### 开发环境优化
1. 启用"热重载"功能
2. 使用真机调试测试
3. 开启云函数本地调试

### 代码规范
1. 遵循小程序开发规范
2. 使用ESLint检查代码
3. 添加必要的注释

### 性能优化
1. 图片使用WebP格式
2. 启用分包加载
3. 合理使用缓存

## 🎉 部署上线

### 准备工作
1. 完成功能测试
2. 优化性能
3. 准备小程序资质

### 发布流程
1. 在开发者工具中点击"上传"
2. 在微信公众平台提交审核
3. 等待审核通过
4. 发布上线

## 💡 下一步

现在您已经成功运行了AI健康减肥小程序！接下来可以：

1. **自定义功能** - 根据需求修改或添加功能
2. **集成真实AI** - 接入腾讯云AI或其他AI服务
3. **数据分析** - 添加用户行为分析
4. **社交功能** - 添加用户互动功能

## 📞 获取帮助

如果您在使用过程中遇到问题：

1. 查看 [README.md](./README.md) 详细文档
2. 参考 [database-design.md](./database-design.md) 数据库设计
3. 查看微信小程序官方文档
4. 提交Issue获取支持

---

**祝您开发愉快！** 🌟

如果这个项目对您有帮助，请给个⭐️支持一下！