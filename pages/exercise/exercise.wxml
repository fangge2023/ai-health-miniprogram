<view class="container">
  <!-- 日期选择器 -->
  <view class="date-selector">
    <view class="arrow" bindtap="prevDay">〈</view>
    <view class="current-date">
      <text>{{currentDate}}</text>
      <text class="today-label">今天</text>
    </view>
    <view class="arrow" bindtap="nextDay">〉</view>
  </view>
  
  <!-- 运动数据卡片 -->
  <view class="stats-card">
    <view class="card-header">今日运动</view>
    <view class="stats-grid">
      <view class="stat-item">
        <text class="stat-value">{{exerciseMinutes || 0}}</text>
        <text class="stat-label">运动时长</text>
        <text class="stat-unit">分钟</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{caloriesBurned || 0}}</text>
        <text class="stat-label">消耗卡路里</text>
        <text class="stat-unit">kcal</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{exerciseCount || 0}}</text>
        <text class="stat-label">运动次数</text>
        <text class="stat-unit">次</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{steps || 0}}</text>
        <text class="stat-label">步数</text>
        <text class="stat-unit">步</text>
      </view>
    </view>
    
    <!-- 目标完成进度 -->
    <view class="goal-progress">
      <view class="progress-label">
        <text>今日目标完成率</text>
        <text>{{goalCompletion || 0}}%</text>
      </view>
      <progress percent="{{goalCompletion || 0}}" stroke-width="4" activeColor="#FF5252" backgroundColor="#e9e9e9"/>
    </view>
    
    <!-- 目标时间 -->
    <view class="goal-time">
      <text class="goal-label">目标: {{dailyGoalMinutes || 30}}分钟</text>
    </view>
  </view>
  
  <!-- 快捷运动选择 -->
  <view class="quick-exercise">
    <view class="section-header">
      <text class="section-title">快捷运动</text>
      <text class="section-more" bindtap="showMoreExercises">更多 ></text>
    </view>
    
    <scroll-view scroll-x class="exercise-scroll">
      <view class="exercise-list">
        <view class="exercise-item" bindtap="selectExercise" data-type="walking">
          <image src="/images/exercise/walking.png" mode="aspectFit" class="exercise-icon"></image>
          <text class="exercise-name">快走</text>
          <text class="exercise-met">3.5 MET</text>
        </view>
        <view class="exercise-item" bindtap="selectExercise" data-type="running">
          <image src="/images/exercise/running.png" mode="aspectFit" class="exercise-icon"></image>
          <text class="exercise-name">跑步</text>
          <text class="exercise-met">8 MET</text>
        </view>
        <view class="exercise-item" bindtap="selectExercise" data-type="cycling">
          <image src="/images/exercise/cycling.png" mode="aspectFit" class="exercise-icon"></image>
          <text class="exercise-name">骑行</text>
          <text class="exercise-met">5 MET</text>
        </view>
        <view class="exercise-item" bindtap="selectExercise" data-type="swimming">
          <image src="/images/exercise/swimming.png" mode="aspectFit" class="exercise-icon"></image>
          <text class="exercise-name">游泳</text>
          <text class="exercise-met">7 MET</text>
        </view>
        <view class="add-exercise" bindtap="addCustomExercise">
          <view class="add-icon">+</view>
        </view>
      </view>
    </scroll-view>
  </view>
  
  <!-- 今日运动记录 -->
  <view class="exercise-records">
    <view class="section-header">
      <text class="section-title">今日记录</text>
    </view>
    
    <view class="record-list">
      <view class="record-item" wx:for="{{exerciseRecords}}" wx:key="id">
        <view class="record-icon">
          <image src="{{item.icon}}" mode="aspectFit"></image>
        </view>
        <view class="record-info">
          <text class="record-name">{{item.name}}</text>
          <text class="record-time">{{item.duration}}分钟 · {{item.calories}}kcal</text>
        </view>
        <view class="record-actions">
          <text class="edit-btn" bindtap="editRecord" data-id="{{item.id}}">编辑</text>
        </view>
      </view>
    </view>
  </view>
  
  <!-- 添加运动按钮 -->
  <view class="floating-button" bindtap="showExerciseModal">
    <text class="plus-icon">+</text>
  </view>
</view>