<view class="container">
  <!-- é¡¶éƒ¨ç”¨æˆ·ä¿¡æ¯ -->
  <view class="user-header">
    <view class="user-info">
      <view class="avatar">
        <open-data type="userAvatarUrl"></open-data>
      </view>
      <view class="greeting">
        <text class="hello">ä½ å¥½ï¼Œ</text>
        <open-data type="userNickName" class="username"></open-data>
      </view>
    </view>
    <view class="date-info">
      <text class="today-date">{{todayDate}}</text>
    </view>
  </view>
  
  <!-- å¥åº·æ•°æ®æ¦‚è§ˆå¡ç‰‡ -->
  <view class="health-overview">
    <view class="card-header">
      <text class="card-title">ä»Šæ—¥å¥åº·æ¦‚è§ˆ</text>
    </view>
    
    <view class="health-stats">
      <view class="stat-item">
        <view class="stat-icon calories-icon">ğŸ”¥</view>
        <view class="stat-info">
          <text class="stat-value">{{caloriesConsumed || 0}}/{{caloriesTarget || 2000}}</text>
          <text class="stat-label">å¡è·¯é‡Œ</text>
        </view>
      </view>
      
      <view class="stat-item">
        <view class="stat-icon steps-icon">ğŸ‘£</view>
        <view class="stat-info">
          <text class="stat-value">{{steps || 0}}/{{stepsTarget || 8000}}</text>
          <text class="stat-label">æ­¥æ•°</text>
        </view>
      </view>
      
      <view class="stat-item">
        <view class="stat-icon water-icon">ğŸ’§</view>
        <view class="stat-info">
          <text class="stat-value">{{waterIntake || 0}}/{{waterTarget || 8}}</text>
          <text class="stat-label">é¥®æ°´(æ¯)</text>
        </view>
      </view>
      
      <view class="stat-item">
        <view class="stat-icon weight-icon">âš–ï¸</view>
        <view class="stat-info">
          <text class="stat-value">{{currentWeight || '--'}} kg</text>
          <text class="stat-label">ä½“é‡</text>
        </view>
      </view>
    </view>
  </view>
  
  <!-- å‡é‡è¿›åº¦å¡ç‰‡ -->
  <view class="weight-progress-card">
    <view class="card-header">
      <text class="card-title">å‡é‡è¿›åº¦</text>
      <text class="card-subtitle">è·ç¦»ç›®æ ‡è¿˜æœ‰ {{daysToGoal || '--'}} å¤©</text>
    </view>
    
    <view class="weight-chart">
      <view class="weight-info">
        <view class="weight-item">
          <text class="weight-label">åˆå§‹</text>
          <text class="weight-value">{{initialWeight || '--'}} kg</text>
        </view>
        <view class="weight-item">
          <text class="weight-label">å½“å‰</text>
          <text class="weight-value">{{currentWeight || '--'}} kg</text>
        </view>
        <view class="weight-item">
          <text class="weight-label">ç›®æ ‡</text>
          <text class="weight-value">{{targetWeight || '--'}} kg</text>
        </view>
      </view>
      
      <view class="progress-container">
        <view class="progress-bar">
          <view class="progress-fill" style="width: {{weightProgressPercentage || 0}}%;"></view>
        </view>
        <text class="progress-text">{{weightProgressPercentage || 0}}% å®Œæˆ</text>
      </view>
    </view>
  </view>
  
  <!-- å¿«æ·åŠŸèƒ½å¡ç‰‡ -->
  <view class="quick-actions">
    <view class="action-row">
      <view class="action-item" bindtap="navigateToDiet">
        <view class="action-icon food-icon">ğŸ½ï¸</view>
        <text class="action-text">è®°å½•é¥®é£Ÿ</text>
      </view>
      
      <view class="action-item" bindtap="navigateToExercise">
        <view class="action-icon exercise-icon">ğŸƒ</view>
        <text class="action-text">è®°å½•è¿åŠ¨</text>
      </view>
      
      <view class="action-item" bindtap="navigateToWater">
        <view class="action-icon water-add-icon">ğŸ’§</view>
        <text class="action-text">æ·»åŠ é¥®æ°´</text>
      </view>
      
      <view class="action-item" bindtap="navigateToWeight">
        <view class="action-icon weight-add-icon">âš–ï¸</view>
        <text class="action-text">æ›´æ–°ä½“é‡</text>
      </view>
    </view>
  </view>
  
  <!-- å¥åº·æç¤ºå¡ç‰‡ -->
  <view class="health-tips">
    <view class="card-header">
      <text class="card-title">ä»Šæ—¥å¥åº·æç¤º</text>
      <text class="refresh-tips" bindtap="refreshTips">æ¢ä¸€æ¡</text>
    </view>
    
    <view class="tip-content">
      <view class="tip-icon">ğŸ’¡</view>
      <text class="tip-text">{{dailyTip || 'ä¿æŒè§„å¾‹çš„è¿åŠ¨ä¹ æƒ¯å¯ä»¥å¸®åŠ©æé«˜åŸºç¡€ä»£è°¢ç‡ï¼Œå³ä½¿åœ¨ä¼‘æ¯æ—¶ä¹Ÿèƒ½æ¶ˆè€—æ›´å¤šçƒ­é‡ã€‚'}}</text>
    </view>
  </view>
  
  <!-- æ¯å‘¨è¶‹åŠ¿å¡ç‰‡ -->
  <view class="weekly-trends">
    <view class="card-header">
      <text class="card-title">æ¯å‘¨è¶‹åŠ¿</text>
      <text class="view-more" bindtap="viewMoreStats">æŸ¥çœ‹æ›´å¤š</text>
    </view>
    
    <view class="chart-container">
      <ec-canvas id="weekly-chart" canvas-id="weekly-chart" ec="{{ec}}"></ec-canvas>
    </view>
  </view>
</view>