<view class="container">
  <!-- 日期选择器 -->
  <view class="date-selector">
    <view class="arrow" bindtap="prevDay">〈</view>
    <view class="current-date">
      <text>{{currentDate}}</text>
      <text class="today-label">今天</text>
    </view>
    <view class="arrow" bindtap="nextDay">〉</view>
  </view>
  
  <!-- 卡路里摄入统计 -->
  <view class="stats-card">
    <view class="stats-row">
      <view class="stat-item">
        <text class="stat-value">{{totalCalories || 0}}</text>
        <text class="stat-label">已摄入 (kcal)</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{targetCalories || 0}}</text>
        <text class="stat-label">目标 (kcal)</text>
      </view>
    </view>
    <view class="stats-row">
      <view class="stat-item">
        <text class="stat-value">{{remainingCalories || 0}}</text>
        <text class="stat-label">剩余 (kcal)</text>
      </view>
    </view>
    
    <!-- 营养素进度条 -->
    <view class="nutrition-progress">
      <view class="progress-item">
        <view class="progress-label">
          <text>碳水化合物</text>
          <text>{{carbsProgress || 0}}%</text>
        </view>
        <progress percent="{{carbsProgress || 0}}" stroke-width="3" activeColor="#4CAF50" backgroundColor="#e9e9e9"/>
      </view>
      <view class="progress-item">
        <view class="progress-label">
          <text>蛋白质</text>
          <text>{{proteinProgress || 0}}%</text>
        </view>
        <progress percent="{{proteinProgress || 0}}" stroke-width="3" activeColor="#2196F3" backgroundColor="#e9e9e9"/>
      </view>
      <view class="progress-item">
        <view class="progress-label">
          <text>脂肪</text>
          <text>{{fatProgress || 0}}%</text>
        </view>
        <progress percent="{{fatProgress || 0}}" stroke-width="3" activeColor="#FF9800" backgroundColor="#e9e9e9"/>
      </view>
    </view>
  </view>
  
  <!-- 饮食记录 -->
  <view class="food-records">
    <view class="section-header">
      <text class="section-title">今日饮食记录</text>
      <view class="tabs">
        <text class="tab active">完整</text>
        <text class="tab">按餐</text>
      </view>
    </view>
    
    <view class="food-list">
      <view class="food-item" wx:for="{{foodItems}}" wx:key="id">
        <view class="food-info">
          <text class="food-name">{{item.name}}</text>
          <text class="food-amount">{{item.amount}}g</text>
        </view>
        <text class="food-calories">{{item.calories}}kcal</text>
      </view>
      
      <!-- 添加食物按钮 -->
      <view class="add-food" bindtap="navigateToFoodSearch">
        <view class="add-icon">+</view>
        <text>添加食物</text>
      </view>
    </view>
  </view>
</view>